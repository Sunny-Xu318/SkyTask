{"ast":null,"code":"import StatusTag from '../common/StatusTag.vue';\nexport default {\n  __name: 'TaskExecutionDrawer',\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    executions: {\n      type: Array,\n      default: () => []\n    },\n    pagination: {\n      type: Object,\n      default: () => ({\n        page: 1,\n        size: 10,\n        total: 0\n      })\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['update:visible', 'page-change', 'view-log'],\n  setup(__props, {\n    expose: __expose,\n    emit: __emit\n  }) {\n    __expose();\n    const emit = __emit;\n    const handlePageChange = page => {\n      emit('page-change', page);\n    };\n    const __returned__ = {\n      emit,\n      handlePageChange,\n      StatusTag\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["StatusTag","emit","__emit","handlePageChange","page"],"sources":["D:/桌面/项目/分布式任务调度系统/SkyTask/skytask-frontend/src/components/task/TaskExecutionDrawer.vue"],"sourcesContent":["<template>\n  <el-drawer\n    :model-value=\"visible\"\n    title=\"执行记录\"\n    size=\"40%\"\n    @close=\"emit('update:visible', false)\"\n  >\n    <div class=\"execution\">\n      <el-table :data=\"executions\" height=\"360\" size=\"small\" v-loading=\"loading\">\n        <el-table-column prop=\"triggerTime\" label=\"调度时间\" width=\"160\" />\n        <el-table-column prop=\"node\" label=\"执行节点\" width=\"120\" />\n        <el-table-column label=\"状态\" width=\"120\">\n          <template #default=\"{ row }\">\n            <StatusTag :status=\"row.status\" />\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"duration\" label=\"耗时 (ms)\" width=\"100\" />\n        <el-table-column prop=\"retry\" label=\"重试次数\" width=\"100\" />\n        <el-table-column label=\"操作\" width=\"120\" fixed=\"right\">\n          <template #default=\"{ row }\">\n            <el-button link type=\"primary\" size=\"small\" @click=\"emit('view-log', row)\">\n              查看日志\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <div class=\"execution__pagination\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next, ->, jumper\"\n          :current-page=\"pagination.page\"\n          :page-size=\"pagination.size\"\n          :total=\"pagination.total\"\n          @current-change=\"handlePageChange\"\n        />\n      </div>\n    </div>\n  </el-drawer>\n</template>\n\n<script setup>\nimport StatusTag from '../common/StatusTag.vue';\n\ndefineProps({\n  visible: {\n    type: Boolean,\n    default: false\n  },\n  executions: {\n    type: Array,\n    default: () => []\n  },\n  pagination: {\n    type: Object,\n    default: () => ({ page: 1, size: 10, total: 0 })\n  },\n  loading: {\n    type: Boolean,\n    default: false\n  }\n});\n\nconst emit = defineEmits(['update:visible', 'page-change', 'view-log']);\n\nconst handlePageChange = (page) => {\n  emit('page-change', page);\n};\n</script>\n\n<style scoped lang=\"scss\">\n.execution {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n\n  &__pagination {\n    display: flex;\n    justify-content: flex-end;\n    padding-top: 12px;\n  }\n}\n</style>\n"],"mappings":"AA0CA,OAAOA,SAAS,MAAM,yBAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAqB/C,MAAMC,IAAI,GAAGC,MAA0D;IAEvE,MAAMC,gBAAgB,GAAIC,IAAI,IAAK;MACjCH,IAAI,CAAC,aAAa,EAAEG,IAAI,CAAC;IAC3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}