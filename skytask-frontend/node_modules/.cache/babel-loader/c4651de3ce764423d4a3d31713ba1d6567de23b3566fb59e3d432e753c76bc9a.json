{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { computed, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport dayjs from 'dayjs';\nimport StatusTag from '@/components/common/StatusTag.vue';\nimport TaskFormDrawer from '@/components/task/TaskFormDrawer.vue';\nimport TaskDependencyGraph from '@/components/task/TaskDependencyGraph.vue';\nimport BaseChart from '@/components/charts/BaseChart.vue';\nexport default {\n  __name: 'TaskDetailView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n    const taskId = route.params.taskId;\n    const drawerVisible = ref(false);\n    const submitting = ref(false);\n    const logVisible = ref(false);\n    const activeLog = ref('');\n    const triggering = ref(false);\n    const detailLoading = ref(false);\n    const chartRange = ref('24h');\n    const groupOptions = [{\n      label: 'Data Report',\n      value: 'DATA_REPORT'\n    }, {\n      label: 'Realtime Risk',\n      value: 'RISK_CONTROL'\n    }, {\n      label: 'Marketing',\n      value: 'MARKETING'\n    }, {\n      label: 'Recommendation',\n      value: 'RECOMMEND'\n    }];\n    const ownerOptions = [{\n      label: 'Alice - Data Platform',\n      value: 'alice'\n    }, {\n      label: 'Bob - Marketing',\n      value: 'bob'\n    }, {\n      label: 'Carol - Settlement',\n      value: 'carol'\n    }, {\n      label: 'David - Recommendation',\n      value: 'david'\n    }];\n    const tagOptions = ['report', 'risk', 'cache', 'recommend', 'marketing', 'settlement'];\n    const parseError = error => error?.response?.data?.message || error?.message || 'Operation failed, please try again later.';\n\n    // 统一的日期转换函数\n    const parseTriggerTime = triggerTime => {\n      // 添加调试日志\n      console.log('🔍 parseTriggerTime 接收到的数据:', triggerTime);\n      console.log('🔍 数据类型:', typeof triggerTime);\n      if (!triggerTime) {\n        console.log('⚠️ triggerTime 为空');\n        return null;\n      }\n\n      // 如果已经是字符串，直接返回\n      if (typeof triggerTime === 'string') {\n        console.log('✅ triggerTime 是字符串:', triggerTime);\n        return triggerTime;\n      }\n\n      // 如果是对象（OffsetDateTime 序列化结果），尝试转换\n      if (typeof triggerTime === 'object') {\n        console.log('📦 triggerTime 是对象，所有键:', Object.keys(triggerTime));\n        console.log('📦 triggerTime 完整内容:', JSON.stringify(triggerTime, null, 2));\n\n        // 可能的格式: { year, month, day, hour, minute, second, nano, offset }\n        const {\n          year,\n          monthValue,\n          month,\n          dayOfMonth,\n          day,\n          hour,\n          minute,\n          second\n        } = triggerTime;\n        console.log('📊 解析出的字段:', {\n          year,\n          monthValue,\n          month,\n          dayOfMonth,\n          day,\n          hour,\n          minute,\n          second\n        });\n\n        // 构建日期字符串\n        const y = year;\n        let m = monthValue || month;\n        const d = dayOfMonth || day;\n        const h = hour || 0;\n        const min = minute || 0;\n        const s = second || 0;\n\n        // 如果 month 是字符串（如\"OCTOBER\"），转换为数字\n        if (typeof m === 'string') {\n          const monthMap = {\n            'JANUARY': 1,\n            'FEBRUARY': 2,\n            'MARCH': 3,\n            'APRIL': 4,\n            'MAY': 5,\n            'JUNE': 6,\n            'JULY': 7,\n            'AUGUST': 8,\n            'SEPTEMBER': 9,\n            'OCTOBER': 10,\n            'NOVEMBER': 11,\n            'DECEMBER': 12\n          };\n          m = monthMap[m.toUpperCase()] || parseInt(m);\n          console.log('🔄 月份从字符串转换为数字:', m);\n        }\n        console.log('🔢 最终使用的值:', {\n          y,\n          m,\n          d,\n          h,\n          min,\n          s\n        });\n        if (y && m && d) {\n          // 🔧 使用 dayjs 直接构建日期，而不是字符串拼接\n          try {\n            // dayjs 构造：dayjs(new Date(year, month-1, day, hour, minute, second))\n            const date = dayjs(new Date(y, m - 1, d, h, min, s));\n            if (date.isValid()) {\n              // 返回 ISO 8601 格式字符串\n              const isoString = date.format('YYYY-MM-DDTHH:mm:ss');\n              console.log('✅ 成功构建日期:', isoString);\n              return isoString;\n            } else {\n              console.error('❌ dayjs 验证失败:', {\n                y,\n                m,\n                d,\n                h,\n                min,\n                s\n              });\n              return null;\n            }\n          } catch (error) {\n            console.error('❌ 日期构建异常:', error, {\n              y,\n              m,\n              d,\n              h,\n              min,\n              s\n            });\n            return null;\n          }\n        } else {\n          console.warn('❌ 缺少必要的日期字段 (year, month, day)，当前值:', {\n            y,\n            m,\n            d\n          });\n        }\n      }\n      console.log('⚠️ 使用 String() 转换:', String(triggerTime));\n      return String(triggerTime);\n    };\n    onMounted(async () => {\n      detailLoading.value = true;\n      try {\n        await store.dispatch('tasks/loadTaskDetail', taskId);\n        await loadExecutions();\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        detailLoading.value = false;\n      }\n    });\n    const detail = computed(() => store.getters['tasks/currentTask'] || {});\n    const executions = computed(() => store.getters['tasks/taskExecutions'] || []);\n    const executionLoading = computed(() => store.getters['tasks/taskExecutionLoading']);\n    const parameterText = computed(() => {\n      const params = detail.value?.parameters;\n      if (!params) return 'No parameters configured';\n      if (typeof params === 'string') return params;\n      try {\n        return JSON.stringify(params, null, 2);\n      } catch (error) {\n        return String(params);\n      }\n    });\n    const hasExecutionData = computed(() => Array.isArray(executions.value) && executions.value.length > 0);\n    const executionStats = computed(() => {\n      if (!hasExecutionData.value) return {\n        success: 0,\n        failed: 0\n      };\n      const success = executions.value.filter(e => e.status === 'SUCCESS').length;\n      const failed = executions.value.filter(e => e.status === 'FAILED').length;\n      return {\n        success,\n        failed\n      };\n    });\n    const successTrendOptions = computed(() => {\n      if (!hasExecutionData.value) return {};\n\n      // 将所有执行记录的 triggerTime 转换为标准字符串格式\n      const normalizedExecs = executions.value.map(exec => ({\n        ...exec,\n        triggerTime: parseTriggerTime(exec.triggerTime)\n      }));\n\n      // 按时间排序\n      const sortedExecs = [...normalizedExecs].sort((a, b) => {\n        if (!a.triggerTime) return 1;\n        if (!b.triggerTime) return -1;\n        return a.triggerTime.localeCompare(b.triggerTime);\n      });\n\n      // 根据时间范围动态格式化横坐标\n      const formatTimeLabel = timeString => {\n        console.log('🎨 formatTimeLabel 接收到:', timeString, '类型:', typeof timeString);\n        if (!timeString) {\n          console.warn('⚠️ timeString 为空');\n          return 'No Time';\n        }\n        try {\n          // 使用 dayjs 解析日期\n          const date = dayjs(timeString);\n          console.log('🔍 dayjs 解析结果:', {\n            isValid: date.isValid(),\n            formatted: date.format(),\n            original: timeString\n          });\n          if (!date.isValid()) {\n            console.error('❌ dayjs 验证失败！原始值:', timeString);\n\n            // 🔧 降级处理：尝试直接使用字符串的一部分\n            if (typeof timeString === 'string' && timeString.length >= 10) {\n              // 尝试提取日期部分 \"2025-10-22\" 或 \"2025-10-22T14:30:00\"\n              const datePart = timeString.substring(5, 10); // MM-DD\n              console.log('🔄 使用降级方案，提取:', datePart);\n              return datePart || 'N/A';\n            }\n            return 'Invalid';\n          }\n\n          // 根据时间范围选择格式\n          let formatted;\n          switch (chartRange.value) {\n            case '24h':\n              formatted = date.format('HH:mm');\n              break;\n            case '7d':\n              formatted = date.format('MM-DD HH:mm');\n              break;\n            case '30d':\n              formatted = date.format('MM-DD');\n              break;\n            default:\n              formatted = date.format('MM-DD HH:mm');\n          }\n          console.log('✅ 格式化成功:', formatted);\n          return formatted;\n        } catch (error) {\n          console.error('💥 formatTimeLabel 异常:', error, 'timeString:', timeString);\n          return 'Error';\n        }\n      };\n      const categories = sortedExecs.map(formatTimeLabel);\n      const successData = sortedExecs.map(e => e.status === 'SUCCESS' ? 100 : 0);\n      const failedData = sortedExecs.map(e => e.status === 'FAILED' ? 100 : 0);\n\n      // 根据时间范围调整标签旋转角度\n      const labelRotation = chartRange.value === '30d' ? 45 : 0;\n      return {\n        color: ['#22c55e', '#ef4444'],\n        tooltip: {\n          trigger: 'axis',\n          formatter: params => params.map(p => `${p.marker}${p.seriesName}: ${p.value}%`).join('<br/>')\n        },\n        legend: {\n          data: ['Success', 'Failed']\n        },\n        grid: {\n          left: 50,\n          right: 24,\n          top: 40,\n          bottom: 50\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {\n            rotate: labelRotation,\n            fontSize: 11,\n            interval: chartRange.value === '30d' ? 'auto' : 0\n          }\n        },\n        yAxis: {\n          type: 'value',\n          min: 0,\n          max: 100,\n          axisLabel: {\n            formatter: '{value}%'\n          }\n        },\n        series: [{\n          name: 'Success',\n          type: 'line',\n          smooth: true,\n          areaStyle: {\n            opacity: 0.3\n          },\n          data: successData\n        }, {\n          name: 'Failed',\n          type: 'line',\n          smooth: true,\n          areaStyle: {\n            opacity: 0.3\n          },\n          data: failedData\n        }]\n      };\n    });\n    const durationChartOptions = computed(() => {\n      if (!hasExecutionData.value) return {};\n\n      // 转换并排序\n      const normalizedExecs = executions.value.map(exec => ({\n        ...exec,\n        triggerTime: parseTriggerTime(exec.triggerTime)\n      })).filter(e => e.triggerTime).sort((a, b) => a.triggerTime.localeCompare(b.triggerTime)).slice(-20);\n      const categories = normalizedExecs.map(e => dayjs(e.triggerTime).format('HH:mm'));\n      const durations = normalizedExecs.map(e => Number(e.duration || 0));\n      return {\n        color: ['#f97316'],\n        tooltip: {\n          trigger: 'axis',\n          formatter: params => {\n            const p = params[0];\n            return `${p.axisValue}<br/>${p.marker}Duration: ${p.value} ms`;\n          }\n        },\n        grid: {\n          left: 60,\n          right: 24,\n          top: 30,\n          bottom: 60\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {\n            rotate: 45,\n            fontSize: 11\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            formatter: '{value} ms'\n          }\n        },\n        series: [{\n          name: 'Duration',\n          type: 'bar',\n          barMaxWidth: 30,\n          data: durations,\n          itemStyle: {\n            color: params => {\n              const val = params.value;\n              if (val < 1000) return '#22c55e';\n              if (val < 5000) return '#f59e0b';\n              return '#ef4444';\n            }\n          }\n        }]\n      };\n    });\n    const loadExecutions = async () => {\n      try {\n        await store.dispatch('tasks/loadTaskExecutions', {\n          taskId,\n          page: 1,\n          size: 50,\n          range: chartRange.value\n        });\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      }\n    };\n    const goBack = () => {\n      router.back();\n    };\n    const openEdit = () => {\n      drawerVisible.value = true;\n    };\n    const onDrawerVisible = visible => {\n      drawerVisible.value = visible;\n      if (!visible) {\n        submitting.value = false;\n      }\n    };\n    const submitTask = async payload => {\n      submitting.value = true;\n      try {\n        await store.dispatch('tasks/submitTask', payload);\n        await store.dispatch('tasks/loadTaskDetail', taskId);\n        drawerVisible.value = false;\n        ElMessage.success('Task updated');\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        submitting.value = false;\n      }\n    };\n    const triggerTask = async () => {\n      if (!detail.value?.id || triggering.value) {\n        return;\n      }\n      triggering.value = true;\n      try {\n        await store.dispatch('tasks/triggerTask', {\n          taskId,\n          payload: {\n            manual: true,\n            operator: store.getters['auth/profile']?.username || 'anonymous'\n          }\n        });\n        ElMessage.success('Execution triggered');\n        setTimeout(loadExecutions, 2000);\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        triggering.value = false;\n      }\n    };\n    const confirmDelete = async () => {\n      try {\n        await store.dispatch('tasks/removeTask', taskId);\n        ElMessage.success('Task deleted');\n        router.push('/tasks');\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      }\n    };\n    const openLog = record => {\n      logVisible.value = true;\n\n      // 构建详细的日志信息\n      const logInfo = {\n        '执行记录ID': record.id || '-',\n        '任务ID': record.taskId || '-',\n        '触发时间': record.triggerTime || '-',\n        '执行节点': record.node || '-',\n        '执行状态': record.status || '-',\n        '执行耗时': record.duration ? `${record.duration}ms` : '-',\n        '重试次数': record.retry || 0,\n        'Trace ID': record.traceId || '-',\n        '执行结果': record.log || 'No execution result',\n        '返回参数': record.parameters ? JSON.stringify(record.parameters, null, 2) : 'No parameters returned'\n      };\n\n      // 格式化日志显示\n      const formattedLog = Object.entries(logInfo).map(([key, value]) => `【${key}】\\n${value}`).join('\\n\\n' + '='.repeat(50) + '\\n\\n');\n      activeLog.value = formattedLog;\n    };\n    const copyLog = () => {\n      if (!activeLog.value) {\n        return;\n      }\n      navigator.clipboard.writeText(activeLog.value).then(() => ElMessage.success('Copied to clipboard')).catch(() => ElMessage.error('Copy failed'));\n    };\n    const openCronHelper = () => {\n      router.push({\n        path: '/config',\n        query: {\n          tab: 'cron-tool'\n        }\n      });\n    };\n    const getDurationTagType = duration => {\n      const value = Number(duration || 0);\n      if (value < 1000) return 'success';\n      if (value < 5000) return 'warning';\n      return 'danger';\n    };\n    const typeLabel = type => {\n      const map = {\n        CRON: 'Cron',\n        ONE_TIME: 'One-time',\n        FIXED_RATE: 'Fixed Rate'\n      };\n      return map[type] || type || '-';\n    };\n    const executorLabel = executor => {\n      const map = {\n        HTTP: 'HTTP',\n        GRPC: 'gRPC',\n        SPRING_BEAN: 'Spring Bean',\n        SHELL: 'Shell'\n      };\n      return map[executor] || executor || '-';\n    };\n    const routeLabel = route => {\n      const map = {\n        ROUND_ROBIN: 'Round Robin',\n        CONSISTENT_HASH: 'Consistent Hash',\n        SHARDING: 'Sharding',\n        FIXED_NODE: 'Fixed Node'\n      };\n      return map[route] || route || '-';\n    };\n    const retryLabel = retry => {\n      const map = {\n        NONE: 'None',\n        FIXED_INTERVAL: 'Fixed Interval',\n        EXP_BACKOFF: 'Exponential Backoff'\n      };\n      return map[retry] || retry || 'Fixed Interval';\n    };\n    const concurrencyLabel = policy => {\n      const map = {\n        PARALLEL: 'Parallel',\n        SERIAL: 'Serial',\n        DISCARD: 'Discard'\n      };\n      return map[policy] || policy || 'Parallel';\n    };\n    const __returned__ = {\n      store,\n      route,\n      router,\n      taskId,\n      drawerVisible,\n      submitting,\n      logVisible,\n      activeLog,\n      triggering,\n      detailLoading,\n      chartRange,\n      groupOptions,\n      ownerOptions,\n      tagOptions,\n      parseError,\n      parseTriggerTime,\n      detail,\n      executions,\n      executionLoading,\n      parameterText,\n      hasExecutionData,\n      executionStats,\n      successTrendOptions,\n      durationChartOptions,\n      loadExecutions,\n      goBack,\n      openEdit,\n      onDrawerVisible,\n      submitTask,\n      triggerTask,\n      confirmDelete,\n      openLog,\n      copyLog,\n      openCronHelper,\n      getDurationTagType,\n      typeLabel,\n      executorLabel,\n      routeLabel,\n      retryLabel,\n      concurrencyLabel,\n      computed,\n      onMounted,\n      ref,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get dayjs() {\n        return dayjs;\n      },\n      StatusTag,\n      TaskFormDrawer,\n      TaskDependencyGraph,\n      BaseChart\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","useRoute","useRouter","useStore","ElMessage","dayjs","StatusTag","TaskFormDrawer","TaskDependencyGraph","BaseChart","store","route","router","taskId","params","drawerVisible","submitting","logVisible","activeLog","triggering","detailLoading","chartRange","groupOptions","label","value","ownerOptions","tagOptions","parseError","error","response","data","message","parseTriggerTime","triggerTime","console","log","Object","keys","JSON","stringify","year","monthValue","month","dayOfMonth","day","hour","minute","second","y","m","d","h","min","s","monthMap","toUpperCase","parseInt","date","Date","isValid","isoString","format","warn","String","dispatch","loadExecutions","detail","getters","executions","executionLoading","parameterText","parameters","hasExecutionData","Array","isArray","length","executionStats","success","failed","filter","e","status","successTrendOptions","normalizedExecs","map","exec","sortedExecs","sort","a","b","localeCompare","formatTimeLabel","timeString","formatted","original","datePart","substring","categories","successData","failedData","labelRotation","color","tooltip","trigger","formatter","p","marker","seriesName","join","legend","grid","left","right","top","bottom","xAxis","type","axisLabel","rotate","fontSize","interval","yAxis","max","series","name","smooth","areaStyle","opacity","durationChartOptions","slice","durations","Number","duration","axisValue","barMaxWidth","itemStyle","val","page","size","range","goBack","back","openEdit","onDrawerVisible","visible","submitTask","payload","triggerTask","id","manual","operator","username","setTimeout","confirmDelete","push","openLog","record","logInfo","node","retry","traceId","formattedLog","entries","key","repeat","copyLog","navigator","clipboard","writeText","then","catch","openCronHelper","path","query","tab","getDurationTagType","typeLabel","CRON","ONE_TIME","FIXED_RATE","executorLabel","executor","HTTP","GRPC","SPRING_BEAN","SHELL","routeLabel","ROUND_ROBIN","CONSISTENT_HASH","SHARDING","FIXED_NODE","retryLabel","NONE","FIXED_INTERVAL","EXP_BACKOFF","concurrencyLabel","policy","PARALLEL","SERIAL","DISCARD"],"sources":["D:/桌面/项目/分布式任务调度系统/SkyTask-main/SkyTask-main/skytask-frontend/src/views/TaskDetailView.vue"],"sourcesContent":["<template>\n  <div class=\"task-detail\">\n    <el-page-header @back=\"goBack\">\n      <template #content>\n        <div class=\"header\">\n          <span class=\"header__title\">{{ detail?.name || 'Task Detail' }}</span>\n          <StatusTag :status=\"detail?.enabled ? 'SUCCESS' : 'DISABLED'\" />\n          <el-tag v-if=\"detail?.group\" type=\"info\" effect=\"plain\">{{ detail.group }}</el-tag>\n        </div>\n      </template>\n      <template #extra>\n        <el-space>\n          <el-button type=\"primary\" :loading=\"triggering\" @click=\"triggerTask\">Run Now</el-button>\n          <el-button @click=\"openEdit\">Edit Task</el-button>\n          <el-popconfirm\n            title=\"Delete this task?\"\n            confirm-button-text=\"Confirm\"\n            cancel-button-text=\"Cancel\"\n            @confirm=\"confirmDelete\"\n          >\n            <template #reference>\n              <el-button type=\"danger\">Delete</el-button>\n            </template>\n          </el-popconfirm>\n        </el-space>\n      </template>\n    </el-page-header>\n\n    <div v-loading=\"detailLoading\" class=\"content\">\n      <section class=\"card detail-card\">\n        <div class=\"detail-card__section\">\n          <h3>Basic Information</h3>\n          <el-descriptions :column=\"2\" size=\"small\" border>\n            <el-descriptions-item label=\"Task ID\">{{ detail?.id || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Task Type\">{{ typeLabel(detail?.type) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Executor\">{{ executorLabel(detail?.executorType) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Cron Expression\">\n              <el-tag v-if=\"detail?.cronExpr\" type=\"success\" effect=\"plain\">{{ detail.cronExpr }}</el-tag>\n              <span v-else>-</span>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"Owner\">{{ detail?.owner || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Timeout\">{{ detail?.timeout || 300 }} s</el-descriptions-item>\n            <el-descriptions-item label=\"Created At\">{{ detail?.createdAt || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Updated At\">{{ detail?.updatedAt || '-' }}</el-descriptions-item>\n          </el-descriptions>\n        </div>\n\n        <div class=\"detail-card__section\">\n          <h3>Scheduling Strategy</h3>\n          <el-descriptions :column=\"2\" size=\"small\" border>\n            <el-descriptions-item label=\"Route Strategy\">{{ routeLabel(detail?.routeStrategy) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Max Retry\">{{ detail?.maxRetry ?? 0 }}</el-descriptions-item>\n            <el-descriptions-item label=\"Retry Policy\">{{ retryLabel(detail?.retryPolicy) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Shards\">{{ detail?.shardCount ?? 1 }}</el-descriptions-item>\n            <el-descriptions-item label=\"Idempotent Key\">{{ detail?.idempotentKey || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Concurrency\">{{ concurrencyLabel(detail?.concurrencyPolicy) }}</el-descriptions-item>\n          </el-descriptions>\n        </div>\n\n        <div class=\"detail-card__section\">\n          <h3>Task Parameters</h3>\n          <el-input\n            v-model=\"parameterText\"\n            type=\"textarea\"\n            :rows=\"5\"\n            readonly\n            placeholder=\"No parameters configured\"\n          />\n        </div>\n      </section>\n\n      <section class=\"card chart-card\">\n        <div class=\"chart-card__header\">\n          <h3>Execution Success Trend</h3>\n          <el-radio-group v-model=\"chartRange\" size=\"small\" @change=\"loadExecutions\">\n            <el-radio-button label=\"24h\">24h</el-radio-button>\n            <el-radio-button label=\"7d\">7d</el-radio-button>\n            <el-radio-button label=\"30d\">30d</el-radio-button>\n          </el-radio-group>\n        </div>\n        <div v-loading=\"executionLoading\" class=\"chart-content\">\n          <BaseChart v-if=\"hasExecutionData\" :options=\"successTrendOptions\" class=\"chart\" />\n          <el-empty v-else description=\"No execution data yet\" />\n        </div>\n      </section>\n\n      <section class=\"card chart-card\">\n        <div class=\"chart-card__header\">\n          <h3>Execution Duration (latest 20)</h3>\n          <el-tag size=\"small\" type=\"info\">Latest 20 executions</el-tag>\n        </div>\n        <div v-loading=\"executionLoading\" class=\"chart-content\">\n          <BaseChart v-if=\"hasExecutionData\" :options=\"durationChartOptions\" class=\"chart\" />\n          <el-empty v-else description=\"No execution data yet\" />\n        </div>\n      </section>\n\n      <section class=\"card execution-card\">\n        <div class=\"execution-card__header\">\n          <h3>Recent Executions</h3>\n          <el-space>\n            <el-tag size=\"small\">\n              Success: {{ executionStats.success }} | Failed: {{ executionStats.failed }}\n            </el-tag>\n            <el-button size=\"small\" @click=\"loadExecutions\">Refresh</el-button>\n          </el-space>\n        </div>\n        <el-table :data=\"executions\" height=\"320\" v-loading=\"executionLoading\">\n          <el-table-column prop=\"triggerTime\" label=\"Trigger Time\" width=\"160\" />\n          <el-table-column prop=\"node\" label=\"Node\" width=\"140\" show-overflow-tooltip />\n          <el-table-column label=\"Status\" width=\"110\">\n            <template #default=\"{ row }\">\n              <StatusTag :status=\"row.status || 'UNKNOWN'\" />\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"duration\" label=\"Duration\" width=\"110\">\n            <template #default=\"{ row }\">\n              <el-tag :type=\"getDurationTagType(row.duration)\" size=\"small\">\n                {{ row.duration || 0 }} ms\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"retry\" label=\"Retry\" width=\"80\" />\n          <el-table-column prop=\"traceId\" label=\"Trace ID\" min-width=\"160\" show-overflow-tooltip />\n          <el-table-column label=\"Action\" width=\"110\" fixed=\"right\">\n            <template #default=\"{ row }\">\n              <el-button link type=\"primary\" size=\"small\" @click=\"openLog(row)\">View Log</el-button>\n            </template>\n          </el-table-column>\n          <template #empty>\n            <el-empty description=\"No execution records\" />\n          </template>\n        </el-table>\n      </section>\n\n      <section class=\"card dependency-card\">\n        <div class=\"dependency-card__header\">\n          <h3>Upstream Dependencies</h3>\n          <el-tag v-if=\"detail?.dependencies?.length\" size=\"small\" type=\"info\">\n            {{ detail.dependencies.length }} tasks\n          </el-tag>\n        </div>\n        <TaskDependencyGraph\n          :task-name=\"detail?.name\"\n          :dependencies=\"detail?.dependencies || []\"\n        />\n        <el-timeline v-if=\"detail?.dependencies?.length\" class=\"dependency-timeline\">\n          <el-timeline-item\n            v-for=\"dep in detail.dependencies\"\n            :key=\"dep.id\"\n            :timestamp=\"dep.triggerType || 'Manual'\"\n            :type=\"dep.status === 'SUCCESS' ? 'success' : dep.status === 'FAILED' ? 'danger' : 'info'\"\n          >\n            <div class=\"dependency-item\">\n              <strong>{{ dep.name }}</strong>\n              <span>Node: {{ dep.node || '-' }}</span>\n              <span>Status: <StatusTag :status=\"dep.status || 'UNKNOWN'\" /></span>\n              <el-tag v-if=\"dep.cronExpr\" size=\"small\" effect=\"plain\">{{ dep.cronExpr }}</el-tag>\n            </div>\n          </el-timeline-item>\n        </el-timeline>\n      </section>\n    </div>\n\n    <TaskFormDrawer\n      v-model:visible=\"drawerVisible\"\n      :model-value=\"detail\"\n      :group-options=\"groupOptions\"\n      :owner-options=\"ownerOptions\"\n      :tag-options=\"tagOptions\"\n      :submitting=\"submitting\"\n      @submit=\"submitTask\"\n      @update:visible=\"onDrawerVisible\"\n      @cron-helper=\"openCronHelper\"\n    />\n\n    <el-drawer\n      v-model=\"logVisible\"\n      title=\"Execution Log\"\n      size=\"40%\"\n    >\n      <template #default>\n        <pre class=\"log\">{{ activeLog || 'No log content' }}</pre>\n      </template>\n      <template #footer>\n        <el-space>\n          <el-button type=\"primary\" @click=\"copyLog\" :disabled=\"!activeLog\">Copy</el-button>\n          <el-button @click=\"logVisible = false\">Close</el-button>\n        </el-space>\n      </template>\n    </el-drawer>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport dayjs from 'dayjs';\nimport StatusTag from '@/components/common/StatusTag.vue';\nimport TaskFormDrawer from '@/components/task/TaskFormDrawer.vue';\nimport TaskDependencyGraph from '@/components/task/TaskDependencyGraph.vue';\nimport BaseChart from '@/components/charts/BaseChart.vue';\n\nconst store = useStore();\nconst route = useRoute();\nconst router = useRouter();\n\nconst taskId = route.params.taskId;\nconst drawerVisible = ref(false);\nconst submitting = ref(false);\nconst logVisible = ref(false);\nconst activeLog = ref('');\nconst triggering = ref(false);\nconst detailLoading = ref(false);\nconst chartRange = ref('24h');\n\nconst groupOptions = [\n  { label: 'Data Report', value: 'DATA_REPORT' },\n  { label: 'Realtime Risk', value: 'RISK_CONTROL' },\n  { label: 'Marketing', value: 'MARKETING' },\n  { label: 'Recommendation', value: 'RECOMMEND' }\n];\n\nconst ownerOptions = [\n  { label: 'Alice - Data Platform', value: 'alice' },\n  { label: 'Bob - Marketing', value: 'bob' },\n  { label: 'Carol - Settlement', value: 'carol' },\n  { label: 'David - Recommendation', value: 'david' }\n];\n\nconst tagOptions = ['report', 'risk', 'cache', 'recommend', 'marketing', 'settlement'];\n\nconst parseError = (error) =>\n  error?.response?.data?.message || error?.message || 'Operation failed, please try again later.';\n\n// 统一的日期转换函数\nconst parseTriggerTime = (triggerTime) => {\n  // 添加调试日志\n  console.log('🔍 parseTriggerTime 接收到的数据:', triggerTime);\n  console.log('🔍 数据类型:', typeof triggerTime);\n  \n  if (!triggerTime) {\n    console.log('⚠️ triggerTime 为空');\n    return null;\n  }\n  \n  // 如果已经是字符串，直接返回\n  if (typeof triggerTime === 'string') {\n    console.log('✅ triggerTime 是字符串:', triggerTime);\n    return triggerTime;\n  }\n  \n  // 如果是对象（OffsetDateTime 序列化结果），尝试转换\n  if (typeof triggerTime === 'object') {\n    console.log('📦 triggerTime 是对象，所有键:', Object.keys(triggerTime));\n    console.log('📦 triggerTime 完整内容:', JSON.stringify(triggerTime, null, 2));\n    \n    // 可能的格式: { year, month, day, hour, minute, second, nano, offset }\n    const { year, monthValue, month, dayOfMonth, day, hour, minute, second } = triggerTime;\n    \n    console.log('📊 解析出的字段:', { year, monthValue, month, dayOfMonth, day, hour, minute, second });\n    \n    // 构建日期字符串\n    const y = year;\n    let m = monthValue || month;\n    const d = dayOfMonth || day;\n    const h = hour || 0;\n    const min = minute || 0;\n    const s = second || 0;\n    \n    // 如果 month 是字符串（如\"OCTOBER\"），转换为数字\n    if (typeof m === 'string') {\n      const monthMap = {\n        'JANUARY': 1, 'FEBRUARY': 2, 'MARCH': 3, 'APRIL': 4,\n        'MAY': 5, 'JUNE': 6, 'JULY': 7, 'AUGUST': 8,\n        'SEPTEMBER': 9, 'OCTOBER': 10, 'NOVEMBER': 11, 'DECEMBER': 12\n      };\n      m = monthMap[m.toUpperCase()] || parseInt(m);\n      console.log('🔄 月份从字符串转换为数字:', m);\n    }\n    \n    console.log('🔢 最终使用的值:', { y, m, d, h, min, s });\n    \n    if (y && m && d) {\n      // 🔧 使用 dayjs 直接构建日期，而不是字符串拼接\n      try {\n        // dayjs 构造：dayjs(new Date(year, month-1, day, hour, minute, second))\n        const date = dayjs(new Date(y, m - 1, d, h, min, s));\n        \n        if (date.isValid()) {\n          // 返回 ISO 8601 格式字符串\n          const isoString = date.format('YYYY-MM-DDTHH:mm:ss');\n          console.log('✅ 成功构建日期:', isoString);\n          return isoString;\n        } else {\n          console.error('❌ dayjs 验证失败:', { y, m, d, h, min, s });\n          return null;\n        }\n      } catch (error) {\n        console.error('❌ 日期构建异常:', error, { y, m, d, h, min, s });\n        return null;\n      }\n    } else {\n      console.warn('❌ 缺少必要的日期字段 (year, month, day)，当前值:', { y, m, d });\n    }\n  }\n  \n  console.log('⚠️ 使用 String() 转换:', String(triggerTime));\n  return String(triggerTime);\n};\n\nonMounted(async () => {\n  detailLoading.value = true;\n  try {\n    await store.dispatch('tasks/loadTaskDetail', taskId);\n    await loadExecutions();\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    detailLoading.value = false;\n  }\n});\n\nconst detail = computed(() => store.getters['tasks/currentTask'] || {});\nconst executions = computed(() => store.getters['tasks/taskExecutions'] || []);\nconst executionLoading = computed(() => store.getters['tasks/taskExecutionLoading']);\n\nconst parameterText = computed(() => {\n  const params = detail.value?.parameters;\n  if (!params) return 'No parameters configured';\n  if (typeof params === 'string') return params;\n  try {\n    return JSON.stringify(params, null, 2);\n  } catch (error) {\n    return String(params);\n  }\n});\n\nconst hasExecutionData = computed(\n  () => Array.isArray(executions.value) && executions.value.length > 0\n);\n\nconst executionStats = computed(() => {\n  if (!hasExecutionData.value) return { success: 0, failed: 0 };\n  const success = executions.value.filter((e) => e.status === 'SUCCESS').length;\n  const failed = executions.value.filter((e) => e.status === 'FAILED').length;\n  return { success, failed };\n});\n\nconst successTrendOptions = computed(() => {\n  if (!hasExecutionData.value) return {};\n\n  // 将所有执行记录的 triggerTime 转换为标准字符串格式\n  const normalizedExecs = executions.value.map(exec => ({\n    ...exec,\n    triggerTime: parseTriggerTime(exec.triggerTime)\n  }));\n\n  // 按时间排序\n  const sortedExecs = [...normalizedExecs].sort((a, b) => {\n    if (!a.triggerTime) return 1;\n    if (!b.triggerTime) return -1;\n    return a.triggerTime.localeCompare(b.triggerTime);\n  });\n  \n  // 根据时间范围动态格式化横坐标\n  const formatTimeLabel = (timeString) => {\n    console.log('🎨 formatTimeLabel 接收到:', timeString, '类型:', typeof timeString);\n    \n    if (!timeString) {\n      console.warn('⚠️ timeString 为空');\n      return 'No Time';\n    }\n    \n    try {\n      // 使用 dayjs 解析日期\n      const date = dayjs(timeString);\n      \n      console.log('🔍 dayjs 解析结果:', {\n        isValid: date.isValid(),\n        formatted: date.format(),\n        original: timeString\n      });\n      \n      if (!date.isValid()) {\n        console.error('❌ dayjs 验证失败！原始值:', timeString);\n        \n        // 🔧 降级处理：尝试直接使用字符串的一部分\n        if (typeof timeString === 'string' && timeString.length >= 10) {\n          // 尝试提取日期部分 \"2025-10-22\" 或 \"2025-10-22T14:30:00\"\n          const datePart = timeString.substring(5, 10); // MM-DD\n          console.log('🔄 使用降级方案，提取:', datePart);\n          return datePart || 'N/A';\n        }\n        \n        return 'Invalid';\n      }\n      \n      // 根据时间范围选择格式\n      let formatted;\n      switch (chartRange.value) {\n        case '24h':\n          formatted = date.format('HH:mm');\n          break;\n        case '7d':\n          formatted = date.format('MM-DD HH:mm');\n          break;\n        case '30d':\n          formatted = date.format('MM-DD');\n          break;\n        default:\n          formatted = date.format('MM-DD HH:mm');\n      }\n      \n      console.log('✅ 格式化成功:', formatted);\n      return formatted;\n      \n    } catch (error) {\n      console.error('💥 formatTimeLabel 异常:', error, 'timeString:', timeString);\n      return 'Error';\n    }\n  };\n  \n  const categories = sortedExecs.map(formatTimeLabel);\n  const successData = sortedExecs.map((e) => (e.status === 'SUCCESS' ? 100 : 0));\n  const failedData = sortedExecs.map((e) => (e.status === 'FAILED' ? 100 : 0));\n\n  // 根据时间范围调整标签旋转角度\n  const labelRotation = chartRange.value === '30d' ? 45 : 0;\n\n  return {\n    color: ['#22c55e', '#ef4444'],\n    tooltip: {\n      trigger: 'axis',\n      formatter: (params) =>\n        params.map((p) => `${p.marker}${p.seriesName}: ${p.value}%`).join('<br/>')\n    },\n    legend: {\n      data: ['Success', 'Failed']\n    },\n    grid: { left: 50, right: 24, top: 40, bottom: 50 },\n    xAxis: {\n      type: 'category',\n      data: categories,\n      axisLabel: { \n        rotate: labelRotation, \n        fontSize: 11,\n        interval: chartRange.value === '30d' ? 'auto' : 0\n      }\n    },\n    yAxis: {\n      type: 'value',\n      min: 0,\n      max: 100,\n      axisLabel: { formatter: '{value}%' }\n    },\n    series: [\n      {\n        name: 'Success',\n        type: 'line',\n        smooth: true,\n        areaStyle: { opacity: 0.3 },\n        data: successData\n      },\n      {\n        name: 'Failed',\n        type: 'line',\n        smooth: true,\n        areaStyle: { opacity: 0.3 },\n        data: failedData\n      }\n    ]\n  };\n});\n\nconst durationChartOptions = computed(() => {\n  if (!hasExecutionData.value) return {};\n\n  // 转换并排序\n  const normalizedExecs = executions.value\n    .map(exec => ({\n      ...exec,\n      triggerTime: parseTriggerTime(exec.triggerTime)\n    }))\n    .filter(e => e.triggerTime)\n    .sort((a, b) => a.triggerTime.localeCompare(b.triggerTime))\n    .slice(-20);\n\n  const categories = normalizedExecs.map((e) => dayjs(e.triggerTime).format('HH:mm'));\n  const durations = normalizedExecs.map((e) => Number(e.duration || 0));\n\n  return {\n    color: ['#f97316'],\n    tooltip: {\n      trigger: 'axis',\n      formatter: (params) => {\n        const p = params[0];\n        return `${p.axisValue}<br/>${p.marker}Duration: ${p.value} ms`;\n      }\n    },\n    grid: { left: 60, right: 24, top: 30, bottom: 60 },\n    xAxis: {\n      type: 'category',\n      data: categories,\n      axisLabel: { rotate: 45, fontSize: 11 }\n    },\n    yAxis: {\n      type: 'value',\n      axisLabel: { formatter: '{value} ms' }\n    },\n    series: [\n      {\n        name: 'Duration',\n        type: 'bar',\n        barMaxWidth: 30,\n        data: durations,\n        itemStyle: {\n          color: (params) => {\n            const val = params.value;\n            if (val < 1000) return '#22c55e';\n            if (val < 5000) return '#f59e0b';\n            return '#ef4444';\n          }\n        }\n      }\n    ]\n  };\n});\n\nconst loadExecutions = async () => {\n  try {\n    await store.dispatch('tasks/loadTaskExecutions', {\n      taskId,\n      page: 1,\n      size: 50,\n      range: chartRange.value\n    });\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  }\n};\n\nconst goBack = () => {\n  router.back();\n};\n\nconst openEdit = () => {\n  drawerVisible.value = true;\n};\n\nconst onDrawerVisible = (visible) => {\n  drawerVisible.value = visible;\n  if (!visible) {\n    submitting.value = false;\n  }\n};\n\nconst submitTask = async (payload) => {\n  submitting.value = true;\n  try {\n    await store.dispatch('tasks/submitTask', payload);\n    await store.dispatch('tasks/loadTaskDetail', taskId);\n    drawerVisible.value = false;\n    ElMessage.success('Task updated');\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    submitting.value = false;\n  }\n};\n\nconst triggerTask = async () => {\n  if (!detail.value?.id || triggering.value) {\n    return;\n  }\n  triggering.value = true;\n  try {\n    await store.dispatch('tasks/triggerTask', {\n      taskId,\n      payload: {\n        manual: true,\n        operator: store.getters['auth/profile']?.username || 'anonymous'\n      }\n    });\n    ElMessage.success('Execution triggered');\n    setTimeout(loadExecutions, 2000);\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    triggering.value = false;\n  }\n};\n\nconst confirmDelete = async () => {\n  try {\n    await store.dispatch('tasks/removeTask', taskId);\n    ElMessage.success('Task deleted');\n    router.push('/tasks');\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  }\n};\n\nconst openLog = (record) => {\n  logVisible.value = true;\n  \n  // 构建详细的日志信息\n  const logInfo = {\n    '执行记录ID': record.id || '-',\n    '任务ID': record.taskId || '-',\n    '触发时间': record.triggerTime || '-',\n    '执行节点': record.node || '-',\n    '执行状态': record.status || '-',\n    '执行耗时': record.duration ? `${record.duration}ms` : '-',\n    '重试次数': record.retry || 0,\n    'Trace ID': record.traceId || '-',\n    '执行结果': record.log || 'No execution result',\n    '返回参数': record.parameters ? JSON.stringify(record.parameters, null, 2) : 'No parameters returned'\n  };\n  \n  // 格式化日志显示\n  const formattedLog = Object.entries(logInfo)\n    .map(([key, value]) => `【${key}】\\n${value}`)\n    .join('\\n\\n' + '='.repeat(50) + '\\n\\n');\n  \n  activeLog.value = formattedLog;\n};\n\nconst copyLog = () => {\n  if (!activeLog.value) {\n    return;\n  }\n  navigator.clipboard\n    .writeText(activeLog.value)\n    .then(() => ElMessage.success('Copied to clipboard'))\n    .catch(() => ElMessage.error('Copy failed'));\n};\n\nconst openCronHelper = () => {\n  router.push({ path: '/config', query: { tab: 'cron-tool' } });\n};\n\nconst getDurationTagType = (duration) => {\n  const value = Number(duration || 0);\n  if (value < 1000) return 'success';\n  if (value < 5000) return 'warning';\n  return 'danger';\n};\n\nconst typeLabel = (type) => {\n  const map = {\n    CRON: 'Cron',\n    ONE_TIME: 'One-time',\n    FIXED_RATE: 'Fixed Rate'\n  };\n  return map[type] || type || '-';\n};\n\nconst executorLabel = (executor) => {\n  const map = {\n    HTTP: 'HTTP',\n    GRPC: 'gRPC',\n    SPRING_BEAN: 'Spring Bean',\n    SHELL: 'Shell'\n  };\n  return map[executor] || executor || '-';\n};\n\nconst routeLabel = (route) => {\n  const map = {\n    ROUND_ROBIN: 'Round Robin',\n    CONSISTENT_HASH: 'Consistent Hash',\n    SHARDING: 'Sharding',\n    FIXED_NODE: 'Fixed Node'\n  };\n  return map[route] || route || '-';\n};\n\nconst retryLabel = (retry) => {\n  const map = {\n    NONE: 'None',\n    FIXED_INTERVAL: 'Fixed Interval',\n    EXP_BACKOFF: 'Exponential Backoff'\n  };\n  return map[retry] || retry || 'Fixed Interval';\n};\n\nconst concurrencyLabel = (policy) => {\n  const map = {\n    PARALLEL: 'Parallel',\n    SERIAL: 'Serial',\n    DISCARD: 'Discard'\n  };\n  return map[policy] || policy || 'Parallel';\n};\n</script>\n\n<style scoped lang=\"scss\">\n.task-detail {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  &__title {\n    font-size: 20px;\n    font-weight: 600;\n  }\n}\n\n.content {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 20px;\n}\n\n.detail-card {\n  grid-column: span 2;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  &__section {\n    h3 {\n      margin: 0 0 16px;\n      font-size: 16px;\n      font-weight: 600;\n      color: #0f172a;\n    }\n  }\n}\n\n.chart-card,\n.execution-card,\n.dependency-card {\n  h3 {\n    margin: 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: #0f172a;\n  }\n}\n\n.chart-card__header,\n.execution-card__header,\n.dependency-card__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n}\n\n.chart-content {\n  min-height: 280px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.chart {\n  width: 100%;\n  height: 280px;\n}\n\n.execution-card {\n  grid-column: span 2;\n}\n\n.dependency-card {\n  grid-column: span 2;\n}\n\n.dependency-timeline {\n  margin-top: 16px;\n}\n\n.dependency-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 13px;\n  color: #475569;\n  flex-wrap: wrap;\n\n  strong {\n    font-weight: 600;\n    color: #1e293b;\n  }\n}\n\n.log {\n  margin: 0;\n  font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;\n  font-size: 13px;\n  line-height: 1.6;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  background: #0f172a;\n  color: #e2e8f0;\n  padding: 16px;\n  border-radius: 8px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}