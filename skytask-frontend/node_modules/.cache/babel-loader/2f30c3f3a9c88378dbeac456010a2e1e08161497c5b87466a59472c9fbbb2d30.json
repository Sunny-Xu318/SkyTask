{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { computed, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport dayjs from 'dayjs';\nimport StatusTag from '@/components/common/StatusTag.vue';\nimport TaskFormDrawer from '@/components/task/TaskFormDrawer.vue';\nimport TaskDependencyGraph from '@/components/task/TaskDependencyGraph.vue';\nimport BaseChart from '@/components/charts/BaseChart.vue';\nexport default {\n  __name: 'TaskDetailView',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const store = useStore();\n    const route = useRoute();\n    const router = useRouter();\n    const taskId = route.params.taskId;\n    const drawerVisible = ref(false);\n    const submitting = ref(false);\n    const logVisible = ref(false);\n    const activeLog = ref('');\n    const triggering = ref(false);\n    const detailLoading = ref(false);\n    const chartRange = ref('24h');\n    const groupOptions = [{\n      label: 'Data Report',\n      value: 'DATA_REPORT'\n    }, {\n      label: 'Realtime Risk',\n      value: 'RISK_CONTROL'\n    }, {\n      label: 'Marketing',\n      value: 'MARKETING'\n    }, {\n      label: 'Recommendation',\n      value: 'RECOMMEND'\n    }];\n    const ownerOptions = [{\n      label: 'Alice - Data Platform',\n      value: 'alice'\n    }, {\n      label: 'Bob - Marketing',\n      value: 'bob'\n    }, {\n      label: 'Carol - Settlement',\n      value: 'carol'\n    }, {\n      label: 'David - Recommendation',\n      value: 'david'\n    }];\n    const tagOptions = ['report', 'risk', 'cache', 'recommend', 'marketing', 'settlement'];\n    const parseError = error => error?.response?.data?.message || error?.message || 'Operation failed, please try again later.';\n\n    // 统一的日期转换函数\n    const parseTriggerTime = triggerTime => {\n      // 添加调试日志\n      console.log('🔍 parseTriggerTime 接收到的数据:', triggerTime);\n      console.log('🔍 数据类型:', typeof triggerTime);\n      if (!triggerTime) {\n        console.log('⚠️ triggerTime 为空');\n        return null;\n      }\n\n      // 如果已经是字符串，直接返回\n      if (typeof triggerTime === 'string') {\n        console.log('✅ triggerTime 是字符串:', triggerTime);\n        return triggerTime;\n      }\n\n      // 如果是对象（OffsetDateTime 序列化结果），尝试转换\n      if (typeof triggerTime === 'object') {\n        console.log('📦 triggerTime 是对象，所有键:', Object.keys(triggerTime));\n        console.log('📦 triggerTime 完整内容:', JSON.stringify(triggerTime, null, 2));\n\n        // 可能的格式: { year, month, day, hour, minute, second, nano, offset }\n        const {\n          year,\n          monthValue,\n          month,\n          dayOfMonth,\n          day,\n          hour,\n          minute,\n          second\n        } = triggerTime;\n        console.log('📊 解析出的字段:', {\n          year,\n          monthValue,\n          month,\n          dayOfMonth,\n          day,\n          hour,\n          minute,\n          second\n        });\n\n        // 构建日期字符串\n        const y = year;\n        const m = monthValue || month;\n        const d = dayOfMonth || day;\n        const h = hour || 0;\n        const min = minute || 0;\n        const s = second || 0;\n        console.log('🔢 最终使用的值:', {\n          y,\n          m,\n          d,\n          h,\n          min,\n          s\n        });\n        if (y && m && d) {\n          // 使用 dayjs 创建日期对象并格式化为 ISO 字符串\n          const result = dayjs().year(y).month(m - 1).date(d).hour(h).minute(min).second(s).format('YYYY-MM-DDTHH:mm:ss');\n          console.log('✅ 转换结果:', result);\n          return result;\n        } else {\n          console.warn('❌ 缺少必要的日期字段 (year, month, day)');\n        }\n      }\n      console.log('⚠️ 使用 String() 转换:', String(triggerTime));\n      return String(triggerTime);\n    };\n    onMounted(async () => {\n      detailLoading.value = true;\n      try {\n        await store.dispatch('tasks/loadTaskDetail', taskId);\n        await loadExecutions();\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        detailLoading.value = false;\n      }\n    });\n    const detail = computed(() => store.getters['tasks/currentTask'] || {});\n    const executions = computed(() => store.getters['tasks/taskExecutions'] || []);\n    const executionLoading = computed(() => store.getters['tasks/taskExecutionLoading']);\n    const parameterText = computed(() => {\n      const params = detail.value?.parameters;\n      if (!params) return 'No parameters configured';\n      if (typeof params === 'string') return params;\n      try {\n        return JSON.stringify(params, null, 2);\n      } catch (error) {\n        return String(params);\n      }\n    });\n    const hasExecutionData = computed(() => Array.isArray(executions.value) && executions.value.length > 0);\n    const executionStats = computed(() => {\n      if (!hasExecutionData.value) return {\n        success: 0,\n        failed: 0\n      };\n      const success = executions.value.filter(e => e.status === 'SUCCESS').length;\n      const failed = executions.value.filter(e => e.status === 'FAILED').length;\n      return {\n        success,\n        failed\n      };\n    });\n    const successTrendOptions = computed(() => {\n      if (!hasExecutionData.value) return {};\n\n      // 将所有执行记录的 triggerTime 转换为标准字符串格式\n      const normalizedExecs = executions.value.map(exec => ({\n        ...exec,\n        triggerTime: parseTriggerTime(exec.triggerTime)\n      }));\n\n      // 按时间排序\n      const sortedExecs = [...normalizedExecs].sort((a, b) => {\n        if (!a.triggerTime) return 1;\n        if (!b.triggerTime) return -1;\n        return a.triggerTime.localeCompare(b.triggerTime);\n      });\n\n      // 根据时间范围动态格式化横坐标\n      const formatTimeLabel = timeString => {\n        if (!timeString) return 'No Time';\n        try {\n          // 使用 dayjs 解析日期\n          const date = dayjs(timeString);\n          if (!date.isValid()) {\n            console.warn('Invalid date:', timeString);\n            return 'Invalid Date';\n          }\n\n          // 根据时间范围选择格式\n          switch (chartRange.value) {\n            case '24h':\n              return date.format('HH:mm');\n            //  14:30\n            case '7d':\n              return date.format('MM-DD HH:mm');\n            // 10-22 14:30\n            case '30d':\n              return date.format('MM-DD');\n            // 10-22\n            default:\n              return date.format('MM-DD HH:mm');\n          }\n        } catch (error) {\n          console.error('Date formatting error:', error, 'for value:', timeString);\n          return 'Error';\n        }\n      };\n      const categories = sortedExecs.map(formatTimeLabel);\n      const successData = sortedExecs.map(e => e.status === 'SUCCESS' ? 100 : 0);\n      const failedData = sortedExecs.map(e => e.status === 'FAILED' ? 100 : 0);\n\n      // 根据时间范围调整标签旋转角度\n      const labelRotation = chartRange.value === '30d' ? 45 : 0;\n      return {\n        color: ['#22c55e', '#ef4444'],\n        tooltip: {\n          trigger: 'axis',\n          formatter: params => params.map(p => `${p.marker}${p.seriesName}: ${p.value}%`).join('<br/>')\n        },\n        legend: {\n          data: ['Success', 'Failed']\n        },\n        grid: {\n          left: 50,\n          right: 24,\n          top: 40,\n          bottom: 50\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {\n            rotate: labelRotation,\n            fontSize: 11,\n            interval: chartRange.value === '30d' ? 'auto' : 0\n          }\n        },\n        yAxis: {\n          type: 'value',\n          min: 0,\n          max: 100,\n          axisLabel: {\n            formatter: '{value}%'\n          }\n        },\n        series: [{\n          name: 'Success',\n          type: 'line',\n          smooth: true,\n          areaStyle: {\n            opacity: 0.3\n          },\n          data: successData\n        }, {\n          name: 'Failed',\n          type: 'line',\n          smooth: true,\n          areaStyle: {\n            opacity: 0.3\n          },\n          data: failedData\n        }]\n      };\n    });\n    const durationChartOptions = computed(() => {\n      if (!hasExecutionData.value) return {};\n\n      // 转换并排序\n      const normalizedExecs = executions.value.map(exec => ({\n        ...exec,\n        triggerTime: parseTriggerTime(exec.triggerTime)\n      })).filter(e => e.triggerTime).sort((a, b) => a.triggerTime.localeCompare(b.triggerTime)).slice(-20);\n      const categories = normalizedExecs.map(e => dayjs(e.triggerTime).format('HH:mm'));\n      const durations = normalizedExecs.map(e => Number(e.duration || 0));\n      return {\n        color: ['#f97316'],\n        tooltip: {\n          trigger: 'axis',\n          formatter: params => {\n            const p = params[0];\n            return `${p.axisValue}<br/>${p.marker}Duration: ${p.value} ms`;\n          }\n        },\n        grid: {\n          left: 60,\n          right: 24,\n          top: 30,\n          bottom: 60\n        },\n        xAxis: {\n          type: 'category',\n          data: categories,\n          axisLabel: {\n            rotate: 45,\n            fontSize: 11\n          }\n        },\n        yAxis: {\n          type: 'value',\n          axisLabel: {\n            formatter: '{value} ms'\n          }\n        },\n        series: [{\n          name: 'Duration',\n          type: 'bar',\n          barMaxWidth: 30,\n          data: durations,\n          itemStyle: {\n            color: params => {\n              const val = params.value;\n              if (val < 1000) return '#22c55e';\n              if (val < 5000) return '#f59e0b';\n              return '#ef4444';\n            }\n          }\n        }]\n      };\n    });\n    const loadExecutions = async () => {\n      try {\n        await store.dispatch('tasks/loadTaskExecutions', {\n          taskId,\n          page: 1,\n          size: 50,\n          range: chartRange.value\n        });\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      }\n    };\n    const goBack = () => {\n      router.back();\n    };\n    const openEdit = () => {\n      drawerVisible.value = true;\n    };\n    const onDrawerVisible = visible => {\n      drawerVisible.value = visible;\n      if (!visible) {\n        submitting.value = false;\n      }\n    };\n    const submitTask = async payload => {\n      submitting.value = true;\n      try {\n        await store.dispatch('tasks/submitTask', payload);\n        await store.dispatch('tasks/loadTaskDetail', taskId);\n        drawerVisible.value = false;\n        ElMessage.success('Task updated');\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        submitting.value = false;\n      }\n    };\n    const triggerTask = async () => {\n      if (!detail.value?.id || triggering.value) {\n        return;\n      }\n      triggering.value = true;\n      try {\n        await store.dispatch('tasks/triggerTask', {\n          taskId,\n          payload: {\n            manual: true,\n            operator: store.getters['auth/profile']?.username || 'anonymous'\n          }\n        });\n        ElMessage.success('Execution triggered');\n        setTimeout(loadExecutions, 2000);\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      } finally {\n        triggering.value = false;\n      }\n    };\n    const confirmDelete = async () => {\n      try {\n        await store.dispatch('tasks/removeTask', taskId);\n        ElMessage.success('Task deleted');\n        router.push('/tasks');\n      } catch (error) {\n        ElMessage.error(parseError(error));\n      }\n    };\n    const openLog = record => {\n      logVisible.value = true;\n\n      // 构建详细的日志信息\n      const logInfo = {\n        '执行记录ID': record.id || '-',\n        '任务ID': record.taskId || '-',\n        '触发时间': record.triggerTime || '-',\n        '执行节点': record.node || '-',\n        '执行状态': record.status || '-',\n        '执行耗时': record.duration ? `${record.duration}ms` : '-',\n        '重试次数': record.retry || 0,\n        'Trace ID': record.traceId || '-',\n        '执行结果': record.log || 'No execution result',\n        '返回参数': record.parameters ? JSON.stringify(record.parameters, null, 2) : 'No parameters returned'\n      };\n\n      // 格式化日志显示\n      const formattedLog = Object.entries(logInfo).map(([key, value]) => `【${key}】\\n${value}`).join('\\n\\n' + '='.repeat(50) + '\\n\\n');\n      activeLog.value = formattedLog;\n    };\n    const copyLog = () => {\n      if (!activeLog.value) {\n        return;\n      }\n      navigator.clipboard.writeText(activeLog.value).then(() => ElMessage.success('Copied to clipboard')).catch(() => ElMessage.error('Copy failed'));\n    };\n    const openCronHelper = () => {\n      router.push({\n        path: '/config',\n        query: {\n          tab: 'cron-tool'\n        }\n      });\n    };\n    const getDurationTagType = duration => {\n      const value = Number(duration || 0);\n      if (value < 1000) return 'success';\n      if (value < 5000) return 'warning';\n      return 'danger';\n    };\n    const typeLabel = type => {\n      const map = {\n        CRON: 'Cron',\n        ONE_TIME: 'One-time',\n        FIXED_RATE: 'Fixed Rate'\n      };\n      return map[type] || type || '-';\n    };\n    const executorLabel = executor => {\n      const map = {\n        HTTP: 'HTTP',\n        GRPC: 'gRPC',\n        SPRING_BEAN: 'Spring Bean',\n        SHELL: 'Shell'\n      };\n      return map[executor] || executor || '-';\n    };\n    const routeLabel = route => {\n      const map = {\n        ROUND_ROBIN: 'Round Robin',\n        CONSISTENT_HASH: 'Consistent Hash',\n        SHARDING: 'Sharding',\n        FIXED_NODE: 'Fixed Node'\n      };\n      return map[route] || route || '-';\n    };\n    const retryLabel = retry => {\n      const map = {\n        NONE: 'None',\n        FIXED_INTERVAL: 'Fixed Interval',\n        EXP_BACKOFF: 'Exponential Backoff'\n      };\n      return map[retry] || retry || 'Fixed Interval';\n    };\n    const concurrencyLabel = policy => {\n      const map = {\n        PARALLEL: 'Parallel',\n        SERIAL: 'Serial',\n        DISCARD: 'Discard'\n      };\n      return map[policy] || policy || 'Parallel';\n    };\n    const __returned__ = {\n      store,\n      route,\n      router,\n      taskId,\n      drawerVisible,\n      submitting,\n      logVisible,\n      activeLog,\n      triggering,\n      detailLoading,\n      chartRange,\n      groupOptions,\n      ownerOptions,\n      tagOptions,\n      parseError,\n      parseTriggerTime,\n      detail,\n      executions,\n      executionLoading,\n      parameterText,\n      hasExecutionData,\n      executionStats,\n      successTrendOptions,\n      durationChartOptions,\n      loadExecutions,\n      goBack,\n      openEdit,\n      onDrawerVisible,\n      submitTask,\n      triggerTask,\n      confirmDelete,\n      openLog,\n      copyLog,\n      openCronHelper,\n      getDurationTagType,\n      typeLabel,\n      executorLabel,\n      routeLabel,\n      retryLabel,\n      concurrencyLabel,\n      computed,\n      onMounted,\n      ref,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      get useStore() {\n        return useStore;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get dayjs() {\n        return dayjs;\n      },\n      StatusTag,\n      TaskFormDrawer,\n      TaskDependencyGraph,\n      BaseChart\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["computed","onMounted","ref","useRoute","useRouter","useStore","ElMessage","dayjs","StatusTag","TaskFormDrawer","TaskDependencyGraph","BaseChart","store","route","router","taskId","params","drawerVisible","submitting","logVisible","activeLog","triggering","detailLoading","chartRange","groupOptions","label","value","ownerOptions","tagOptions","parseError","error","response","data","message","parseTriggerTime","triggerTime","console","log","Object","keys","JSON","stringify","year","monthValue","month","dayOfMonth","day","hour","minute","second","y","m","d","h","min","s","result","date","format","warn","String","dispatch","loadExecutions","detail","getters","executions","executionLoading","parameterText","parameters","hasExecutionData","Array","isArray","length","executionStats","success","failed","filter","e","status","successTrendOptions","normalizedExecs","map","exec","sortedExecs","sort","a","b","localeCompare","formatTimeLabel","timeString","isValid","categories","successData","failedData","labelRotation","color","tooltip","trigger","formatter","p","marker","seriesName","join","legend","grid","left","right","top","bottom","xAxis","type","axisLabel","rotate","fontSize","interval","yAxis","max","series","name","smooth","areaStyle","opacity","durationChartOptions","slice","durations","Number","duration","axisValue","barMaxWidth","itemStyle","val","page","size","range","goBack","back","openEdit","onDrawerVisible","visible","submitTask","payload","triggerTask","id","manual","operator","username","setTimeout","confirmDelete","push","openLog","record","logInfo","node","retry","traceId","formattedLog","entries","key","repeat","copyLog","navigator","clipboard","writeText","then","catch","openCronHelper","path","query","tab","getDurationTagType","typeLabel","CRON","ONE_TIME","FIXED_RATE","executorLabel","executor","HTTP","GRPC","SPRING_BEAN","SHELL","routeLabel","ROUND_ROBIN","CONSISTENT_HASH","SHARDING","FIXED_NODE","retryLabel","NONE","FIXED_INTERVAL","EXP_BACKOFF","concurrencyLabel","policy","PARALLEL","SERIAL","DISCARD"],"sources":["D:/桌面/项目/分布式任务调度系统/SkyTask-main/SkyTask-main/skytask-frontend/src/views/TaskDetailView.vue"],"sourcesContent":["<template>\n  <div class=\"task-detail\">\n    <el-page-header @back=\"goBack\">\n      <template #content>\n        <div class=\"header\">\n          <span class=\"header__title\">{{ detail?.name || 'Task Detail' }}</span>\n          <StatusTag :status=\"detail?.enabled ? 'SUCCESS' : 'DISABLED'\" />\n          <el-tag v-if=\"detail?.group\" type=\"info\" effect=\"plain\">{{ detail.group }}</el-tag>\n        </div>\n      </template>\n      <template #extra>\n        <el-space>\n          <el-button type=\"primary\" :loading=\"triggering\" @click=\"triggerTask\">Run Now</el-button>\n          <el-button @click=\"openEdit\">Edit Task</el-button>\n          <el-popconfirm\n            title=\"Delete this task?\"\n            confirm-button-text=\"Confirm\"\n            cancel-button-text=\"Cancel\"\n            @confirm=\"confirmDelete\"\n          >\n            <template #reference>\n              <el-button type=\"danger\">Delete</el-button>\n            </template>\n          </el-popconfirm>\n        </el-space>\n      </template>\n    </el-page-header>\n\n    <div v-loading=\"detailLoading\" class=\"content\">\n      <section class=\"card detail-card\">\n        <div class=\"detail-card__section\">\n          <h3>Basic Information</h3>\n          <el-descriptions :column=\"2\" size=\"small\" border>\n            <el-descriptions-item label=\"Task ID\">{{ detail?.id || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Task Type\">{{ typeLabel(detail?.type) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Executor\">{{ executorLabel(detail?.executorType) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Cron Expression\">\n              <el-tag v-if=\"detail?.cronExpr\" type=\"success\" effect=\"plain\">{{ detail.cronExpr }}</el-tag>\n              <span v-else>-</span>\n            </el-descriptions-item>\n            <el-descriptions-item label=\"Owner\">{{ detail?.owner || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Timeout\">{{ detail?.timeout || 300 }} s</el-descriptions-item>\n            <el-descriptions-item label=\"Created At\">{{ detail?.createdAt || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Updated At\">{{ detail?.updatedAt || '-' }}</el-descriptions-item>\n          </el-descriptions>\n        </div>\n\n        <div class=\"detail-card__section\">\n          <h3>Scheduling Strategy</h3>\n          <el-descriptions :column=\"2\" size=\"small\" border>\n            <el-descriptions-item label=\"Route Strategy\">{{ routeLabel(detail?.routeStrategy) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Max Retry\">{{ detail?.maxRetry ?? 0 }}</el-descriptions-item>\n            <el-descriptions-item label=\"Retry Policy\">{{ retryLabel(detail?.retryPolicy) }}</el-descriptions-item>\n            <el-descriptions-item label=\"Shards\">{{ detail?.shardCount ?? 1 }}</el-descriptions-item>\n            <el-descriptions-item label=\"Idempotent Key\">{{ detail?.idempotentKey || '-' }}</el-descriptions-item>\n            <el-descriptions-item label=\"Concurrency\">{{ concurrencyLabel(detail?.concurrencyPolicy) }}</el-descriptions-item>\n          </el-descriptions>\n        </div>\n\n        <div class=\"detail-card__section\">\n          <h3>Task Parameters</h3>\n          <el-input\n            v-model=\"parameterText\"\n            type=\"textarea\"\n            :rows=\"5\"\n            readonly\n            placeholder=\"No parameters configured\"\n          />\n        </div>\n      </section>\n\n      <section class=\"card chart-card\">\n        <div class=\"chart-card__header\">\n          <h3>Execution Success Trend</h3>\n          <el-radio-group v-model=\"chartRange\" size=\"small\" @change=\"loadExecutions\">\n            <el-radio-button label=\"24h\">24h</el-radio-button>\n            <el-radio-button label=\"7d\">7d</el-radio-button>\n            <el-radio-button label=\"30d\">30d</el-radio-button>\n          </el-radio-group>\n        </div>\n        <div v-loading=\"executionLoading\" class=\"chart-content\">\n          <BaseChart v-if=\"hasExecutionData\" :options=\"successTrendOptions\" class=\"chart\" />\n          <el-empty v-else description=\"No execution data yet\" />\n        </div>\n      </section>\n\n      <section class=\"card chart-card\">\n        <div class=\"chart-card__header\">\n          <h3>Execution Duration (latest 20)</h3>\n          <el-tag size=\"small\" type=\"info\">Latest 20 executions</el-tag>\n        </div>\n        <div v-loading=\"executionLoading\" class=\"chart-content\">\n          <BaseChart v-if=\"hasExecutionData\" :options=\"durationChartOptions\" class=\"chart\" />\n          <el-empty v-else description=\"No execution data yet\" />\n        </div>\n      </section>\n\n      <section class=\"card execution-card\">\n        <div class=\"execution-card__header\">\n          <h3>Recent Executions</h3>\n          <el-space>\n            <el-tag size=\"small\">\n              Success: {{ executionStats.success }} | Failed: {{ executionStats.failed }}\n            </el-tag>\n            <el-button size=\"small\" @click=\"loadExecutions\">Refresh</el-button>\n          </el-space>\n        </div>\n        <el-table :data=\"executions\" height=\"320\" v-loading=\"executionLoading\">\n          <el-table-column prop=\"triggerTime\" label=\"Trigger Time\" width=\"160\" />\n          <el-table-column prop=\"node\" label=\"Node\" width=\"140\" show-overflow-tooltip />\n          <el-table-column label=\"Status\" width=\"110\">\n            <template #default=\"{ row }\">\n              <StatusTag :status=\"row.status || 'UNKNOWN'\" />\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"duration\" label=\"Duration\" width=\"110\">\n            <template #default=\"{ row }\">\n              <el-tag :type=\"getDurationTagType(row.duration)\" size=\"small\">\n                {{ row.duration || 0 }} ms\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"retry\" label=\"Retry\" width=\"80\" />\n          <el-table-column prop=\"traceId\" label=\"Trace ID\" min-width=\"160\" show-overflow-tooltip />\n          <el-table-column label=\"Action\" width=\"110\" fixed=\"right\">\n            <template #default=\"{ row }\">\n              <el-button link type=\"primary\" size=\"small\" @click=\"openLog(row)\">View Log</el-button>\n            </template>\n          </el-table-column>\n          <template #empty>\n            <el-empty description=\"No execution records\" />\n          </template>\n        </el-table>\n      </section>\n\n      <section class=\"card dependency-card\">\n        <div class=\"dependency-card__header\">\n          <h3>Upstream Dependencies</h3>\n          <el-tag v-if=\"detail?.dependencies?.length\" size=\"small\" type=\"info\">\n            {{ detail.dependencies.length }} tasks\n          </el-tag>\n        </div>\n        <TaskDependencyGraph\n          :task-name=\"detail?.name\"\n          :dependencies=\"detail?.dependencies || []\"\n        />\n        <el-timeline v-if=\"detail?.dependencies?.length\" class=\"dependency-timeline\">\n          <el-timeline-item\n            v-for=\"dep in detail.dependencies\"\n            :key=\"dep.id\"\n            :timestamp=\"dep.triggerType || 'Manual'\"\n            :type=\"dep.status === 'SUCCESS' ? 'success' : dep.status === 'FAILED' ? 'danger' : 'info'\"\n          >\n            <div class=\"dependency-item\">\n              <strong>{{ dep.name }}</strong>\n              <span>Node: {{ dep.node || '-' }}</span>\n              <span>Status: <StatusTag :status=\"dep.status || 'UNKNOWN'\" /></span>\n              <el-tag v-if=\"dep.cronExpr\" size=\"small\" effect=\"plain\">{{ dep.cronExpr }}</el-tag>\n            </div>\n          </el-timeline-item>\n        </el-timeline>\n      </section>\n    </div>\n\n    <TaskFormDrawer\n      v-model:visible=\"drawerVisible\"\n      :model-value=\"detail\"\n      :group-options=\"groupOptions\"\n      :owner-options=\"ownerOptions\"\n      :tag-options=\"tagOptions\"\n      :submitting=\"submitting\"\n      @submit=\"submitTask\"\n      @update:visible=\"onDrawerVisible\"\n      @cron-helper=\"openCronHelper\"\n    />\n\n    <el-drawer\n      v-model=\"logVisible\"\n      title=\"Execution Log\"\n      size=\"40%\"\n    >\n      <template #default>\n        <pre class=\"log\">{{ activeLog || 'No log content' }}</pre>\n      </template>\n      <template #footer>\n        <el-space>\n          <el-button type=\"primary\" @click=\"copyLog\" :disabled=\"!activeLog\">Copy</el-button>\n          <el-button @click=\"logVisible = false\">Close</el-button>\n        </el-space>\n      </template>\n    </el-drawer>\n  </div>\n</template>\n\n<script setup>\nimport { computed, onMounted, ref } from 'vue';\nimport { useRoute, useRouter } from 'vue-router';\nimport { useStore } from 'vuex';\nimport { ElMessage } from 'element-plus';\nimport dayjs from 'dayjs';\nimport StatusTag from '@/components/common/StatusTag.vue';\nimport TaskFormDrawer from '@/components/task/TaskFormDrawer.vue';\nimport TaskDependencyGraph from '@/components/task/TaskDependencyGraph.vue';\nimport BaseChart from '@/components/charts/BaseChart.vue';\n\nconst store = useStore();\nconst route = useRoute();\nconst router = useRouter();\n\nconst taskId = route.params.taskId;\nconst drawerVisible = ref(false);\nconst submitting = ref(false);\nconst logVisible = ref(false);\nconst activeLog = ref('');\nconst triggering = ref(false);\nconst detailLoading = ref(false);\nconst chartRange = ref('24h');\n\nconst groupOptions = [\n  { label: 'Data Report', value: 'DATA_REPORT' },\n  { label: 'Realtime Risk', value: 'RISK_CONTROL' },\n  { label: 'Marketing', value: 'MARKETING' },\n  { label: 'Recommendation', value: 'RECOMMEND' }\n];\n\nconst ownerOptions = [\n  { label: 'Alice - Data Platform', value: 'alice' },\n  { label: 'Bob - Marketing', value: 'bob' },\n  { label: 'Carol - Settlement', value: 'carol' },\n  { label: 'David - Recommendation', value: 'david' }\n];\n\nconst tagOptions = ['report', 'risk', 'cache', 'recommend', 'marketing', 'settlement'];\n\nconst parseError = (error) =>\n  error?.response?.data?.message || error?.message || 'Operation failed, please try again later.';\n\n// 统一的日期转换函数\nconst parseTriggerTime = (triggerTime) => {\n  // 添加调试日志\n  console.log('🔍 parseTriggerTime 接收到的数据:', triggerTime);\n  console.log('🔍 数据类型:', typeof triggerTime);\n  \n  if (!triggerTime) {\n    console.log('⚠️ triggerTime 为空');\n    return null;\n  }\n  \n  // 如果已经是字符串，直接返回\n  if (typeof triggerTime === 'string') {\n    console.log('✅ triggerTime 是字符串:', triggerTime);\n    return triggerTime;\n  }\n  \n  // 如果是对象（OffsetDateTime 序列化结果），尝试转换\n  if (typeof triggerTime === 'object') {\n    console.log('📦 triggerTime 是对象，所有键:', Object.keys(triggerTime));\n    console.log('📦 triggerTime 完整内容:', JSON.stringify(triggerTime, null, 2));\n    \n    // 可能的格式: { year, month, day, hour, minute, second, nano, offset }\n    const { year, monthValue, month, dayOfMonth, day, hour, minute, second } = triggerTime;\n    \n    console.log('📊 解析出的字段:', { year, monthValue, month, dayOfMonth, day, hour, minute, second });\n    \n    // 构建日期字符串\n    const y = year;\n    const m = monthValue || month;\n    const d = dayOfMonth || day;\n    const h = hour || 0;\n    const min = minute || 0;\n    const s = second || 0;\n    \n    console.log('🔢 最终使用的值:', { y, m, d, h, min, s });\n    \n    if (y && m && d) {\n      // 使用 dayjs 创建日期对象并格式化为 ISO 字符串\n      const result = dayjs().year(y).month(m - 1).date(d).hour(h).minute(min).second(s).format('YYYY-MM-DDTHH:mm:ss');\n      console.log('✅ 转换结果:', result);\n      return result;\n    } else {\n      console.warn('❌ 缺少必要的日期字段 (year, month, day)');\n    }\n  }\n  \n  console.log('⚠️ 使用 String() 转换:', String(triggerTime));\n  return String(triggerTime);\n};\n\nonMounted(async () => {\n  detailLoading.value = true;\n  try {\n    await store.dispatch('tasks/loadTaskDetail', taskId);\n    await loadExecutions();\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    detailLoading.value = false;\n  }\n});\n\nconst detail = computed(() => store.getters['tasks/currentTask'] || {});\nconst executions = computed(() => store.getters['tasks/taskExecutions'] || []);\nconst executionLoading = computed(() => store.getters['tasks/taskExecutionLoading']);\n\nconst parameterText = computed(() => {\n  const params = detail.value?.parameters;\n  if (!params) return 'No parameters configured';\n  if (typeof params === 'string') return params;\n  try {\n    return JSON.stringify(params, null, 2);\n  } catch (error) {\n    return String(params);\n  }\n});\n\nconst hasExecutionData = computed(\n  () => Array.isArray(executions.value) && executions.value.length > 0\n);\n\nconst executionStats = computed(() => {\n  if (!hasExecutionData.value) return { success: 0, failed: 0 };\n  const success = executions.value.filter((e) => e.status === 'SUCCESS').length;\n  const failed = executions.value.filter((e) => e.status === 'FAILED').length;\n  return { success, failed };\n});\n\nconst successTrendOptions = computed(() => {\n  if (!hasExecutionData.value) return {};\n\n  // 将所有执行记录的 triggerTime 转换为标准字符串格式\n  const normalizedExecs = executions.value.map(exec => ({\n    ...exec,\n    triggerTime: parseTriggerTime(exec.triggerTime)\n  }));\n\n  // 按时间排序\n  const sortedExecs = [...normalizedExecs].sort((a, b) => {\n    if (!a.triggerTime) return 1;\n    if (!b.triggerTime) return -1;\n    return a.triggerTime.localeCompare(b.triggerTime);\n  });\n  \n  // 根据时间范围动态格式化横坐标\n  const formatTimeLabel = (timeString) => {\n    if (!timeString) return 'No Time';\n    \n    try {\n      // 使用 dayjs 解析日期\n      const date = dayjs(timeString);\n      \n      if (!date.isValid()) {\n        console.warn('Invalid date:', timeString);\n        return 'Invalid Date';\n      }\n      \n      // 根据时间范围选择格式\n      switch (chartRange.value) {\n        case '24h':\n          return date.format('HH:mm'); //  14:30\n        case '7d':\n          return date.format('MM-DD HH:mm'); // 10-22 14:30\n        case '30d':\n          return date.format('MM-DD'); // 10-22\n        default:\n          return date.format('MM-DD HH:mm');\n      }\n    } catch (error) {\n      console.error('Date formatting error:', error, 'for value:', timeString);\n      return 'Error';\n    }\n  };\n  \n  const categories = sortedExecs.map(formatTimeLabel);\n  const successData = sortedExecs.map((e) => (e.status === 'SUCCESS' ? 100 : 0));\n  const failedData = sortedExecs.map((e) => (e.status === 'FAILED' ? 100 : 0));\n\n  // 根据时间范围调整标签旋转角度\n  const labelRotation = chartRange.value === '30d' ? 45 : 0;\n\n  return {\n    color: ['#22c55e', '#ef4444'],\n    tooltip: {\n      trigger: 'axis',\n      formatter: (params) =>\n        params.map((p) => `${p.marker}${p.seriesName}: ${p.value}%`).join('<br/>')\n    },\n    legend: {\n      data: ['Success', 'Failed']\n    },\n    grid: { left: 50, right: 24, top: 40, bottom: 50 },\n    xAxis: {\n      type: 'category',\n      data: categories,\n      axisLabel: { \n        rotate: labelRotation, \n        fontSize: 11,\n        interval: chartRange.value === '30d' ? 'auto' : 0\n      }\n    },\n    yAxis: {\n      type: 'value',\n      min: 0,\n      max: 100,\n      axisLabel: { formatter: '{value}%' }\n    },\n    series: [\n      {\n        name: 'Success',\n        type: 'line',\n        smooth: true,\n        areaStyle: { opacity: 0.3 },\n        data: successData\n      },\n      {\n        name: 'Failed',\n        type: 'line',\n        smooth: true,\n        areaStyle: { opacity: 0.3 },\n        data: failedData\n      }\n    ]\n  };\n});\n\nconst durationChartOptions = computed(() => {\n  if (!hasExecutionData.value) return {};\n\n  // 转换并排序\n  const normalizedExecs = executions.value\n    .map(exec => ({\n      ...exec,\n      triggerTime: parseTriggerTime(exec.triggerTime)\n    }))\n    .filter(e => e.triggerTime)\n    .sort((a, b) => a.triggerTime.localeCompare(b.triggerTime))\n    .slice(-20);\n\n  const categories = normalizedExecs.map((e) => dayjs(e.triggerTime).format('HH:mm'));\n  const durations = normalizedExecs.map((e) => Number(e.duration || 0));\n\n  return {\n    color: ['#f97316'],\n    tooltip: {\n      trigger: 'axis',\n      formatter: (params) => {\n        const p = params[0];\n        return `${p.axisValue}<br/>${p.marker}Duration: ${p.value} ms`;\n      }\n    },\n    grid: { left: 60, right: 24, top: 30, bottom: 60 },\n    xAxis: {\n      type: 'category',\n      data: categories,\n      axisLabel: { rotate: 45, fontSize: 11 }\n    },\n    yAxis: {\n      type: 'value',\n      axisLabel: { formatter: '{value} ms' }\n    },\n    series: [\n      {\n        name: 'Duration',\n        type: 'bar',\n        barMaxWidth: 30,\n        data: durations,\n        itemStyle: {\n          color: (params) => {\n            const val = params.value;\n            if (val < 1000) return '#22c55e';\n            if (val < 5000) return '#f59e0b';\n            return '#ef4444';\n          }\n        }\n      }\n    ]\n  };\n});\n\nconst loadExecutions = async () => {\n  try {\n    await store.dispatch('tasks/loadTaskExecutions', {\n      taskId,\n      page: 1,\n      size: 50,\n      range: chartRange.value\n    });\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  }\n};\n\nconst goBack = () => {\n  router.back();\n};\n\nconst openEdit = () => {\n  drawerVisible.value = true;\n};\n\nconst onDrawerVisible = (visible) => {\n  drawerVisible.value = visible;\n  if (!visible) {\n    submitting.value = false;\n  }\n};\n\nconst submitTask = async (payload) => {\n  submitting.value = true;\n  try {\n    await store.dispatch('tasks/submitTask', payload);\n    await store.dispatch('tasks/loadTaskDetail', taskId);\n    drawerVisible.value = false;\n    ElMessage.success('Task updated');\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    submitting.value = false;\n  }\n};\n\nconst triggerTask = async () => {\n  if (!detail.value?.id || triggering.value) {\n    return;\n  }\n  triggering.value = true;\n  try {\n    await store.dispatch('tasks/triggerTask', {\n      taskId,\n      payload: {\n        manual: true,\n        operator: store.getters['auth/profile']?.username || 'anonymous'\n      }\n    });\n    ElMessage.success('Execution triggered');\n    setTimeout(loadExecutions, 2000);\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  } finally {\n    triggering.value = false;\n  }\n};\n\nconst confirmDelete = async () => {\n  try {\n    await store.dispatch('tasks/removeTask', taskId);\n    ElMessage.success('Task deleted');\n    router.push('/tasks');\n  } catch (error) {\n    ElMessage.error(parseError(error));\n  }\n};\n\nconst openLog = (record) => {\n  logVisible.value = true;\n  \n  // 构建详细的日志信息\n  const logInfo = {\n    '执行记录ID': record.id || '-',\n    '任务ID': record.taskId || '-',\n    '触发时间': record.triggerTime || '-',\n    '执行节点': record.node || '-',\n    '执行状态': record.status || '-',\n    '执行耗时': record.duration ? `${record.duration}ms` : '-',\n    '重试次数': record.retry || 0,\n    'Trace ID': record.traceId || '-',\n    '执行结果': record.log || 'No execution result',\n    '返回参数': record.parameters ? JSON.stringify(record.parameters, null, 2) : 'No parameters returned'\n  };\n  \n  // 格式化日志显示\n  const formattedLog = Object.entries(logInfo)\n    .map(([key, value]) => `【${key}】\\n${value}`)\n    .join('\\n\\n' + '='.repeat(50) + '\\n\\n');\n  \n  activeLog.value = formattedLog;\n};\n\nconst copyLog = () => {\n  if (!activeLog.value) {\n    return;\n  }\n  navigator.clipboard\n    .writeText(activeLog.value)\n    .then(() => ElMessage.success('Copied to clipboard'))\n    .catch(() => ElMessage.error('Copy failed'));\n};\n\nconst openCronHelper = () => {\n  router.push({ path: '/config', query: { tab: 'cron-tool' } });\n};\n\nconst getDurationTagType = (duration) => {\n  const value = Number(duration || 0);\n  if (value < 1000) return 'success';\n  if (value < 5000) return 'warning';\n  return 'danger';\n};\n\nconst typeLabel = (type) => {\n  const map = {\n    CRON: 'Cron',\n    ONE_TIME: 'One-time',\n    FIXED_RATE: 'Fixed Rate'\n  };\n  return map[type] || type || '-';\n};\n\nconst executorLabel = (executor) => {\n  const map = {\n    HTTP: 'HTTP',\n    GRPC: 'gRPC',\n    SPRING_BEAN: 'Spring Bean',\n    SHELL: 'Shell'\n  };\n  return map[executor] || executor || '-';\n};\n\nconst routeLabel = (route) => {\n  const map = {\n    ROUND_ROBIN: 'Round Robin',\n    CONSISTENT_HASH: 'Consistent Hash',\n    SHARDING: 'Sharding',\n    FIXED_NODE: 'Fixed Node'\n  };\n  return map[route] || route || '-';\n};\n\nconst retryLabel = (retry) => {\n  const map = {\n    NONE: 'None',\n    FIXED_INTERVAL: 'Fixed Interval',\n    EXP_BACKOFF: 'Exponential Backoff'\n  };\n  return map[retry] || retry || 'Fixed Interval';\n};\n\nconst concurrencyLabel = (policy) => {\n  const map = {\n    PARALLEL: 'Parallel',\n    SERIAL: 'Serial',\n    DISCARD: 'Discard'\n  };\n  return map[policy] || policy || 'Parallel';\n};\n</script>\n\n<style scoped lang=\"scss\">\n.task-detail {\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.header {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  &__title {\n    font-size: 20px;\n    font-weight: 600;\n  }\n}\n\n.content {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  gap: 20px;\n}\n\n.detail-card {\n  grid-column: span 2;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n\n  &__section {\n    h3 {\n      margin: 0 0 16px;\n      font-size: 16px;\n      font-weight: 600;\n      color: #0f172a;\n    }\n  }\n}\n\n.chart-card,\n.execution-card,\n.dependency-card {\n  h3 {\n    margin: 0;\n    font-size: 16px;\n    font-weight: 600;\n    color: #0f172a;\n  }\n}\n\n.chart-card__header,\n.execution-card__header,\n.dependency-card__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 16px;\n}\n\n.chart-content {\n  min-height: 280px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.chart {\n  width: 100%;\n  height: 280px;\n}\n\n.execution-card {\n  grid-column: span 2;\n}\n\n.dependency-card {\n  grid-column: span 2;\n}\n\n.dependency-timeline {\n  margin-top: 16px;\n}\n\n.dependency-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  font-size: 13px;\n  color: #475569;\n  flex-wrap: wrap;\n\n  strong {\n    font-weight: 600;\n    color: #1e293b;\n  }\n}\n\n.log {\n  margin: 0;\n  font-family: 'Fira Code', 'Consolas', 'Monaco', monospace;\n  font-size: 13px;\n  line-height: 1.6;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  background: #0f172a;\n  color: #e2e8f0;\n  padding: 16px;\n  border-radius: 8px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}